{"ast":null,"code":"import { fetchUsersRequest, fetchUsersSuccess, fetchUsersFailure } from '../reducers/userReducer';\nimport { getUsers, createUser, updateUser, deleteUser } from '../../api/userApi';\n\n// Fetch Users\nexport const fetchUsers = (page = 1) => async (dispatch, getState) => {\n  const {\n    currentPage\n  } = getState().user;\n  if (currentPage !== page) {\n    // Prevent fetching if the page hasn't changed\n    dispatch(fetchUsersRequest());\n    try {\n      const response = await getUsers(page);\n      dispatch(fetchUsersSuccess({\n        data: response.data.data,\n        totalPages: response.data.total_pages\n      }));\n    } catch (error) {\n      dispatch(fetchUsersFailure(error.message));\n    }\n  }\n};\n\n// Create User\nexport const addUser = userData => async dispatch => {\n  try {\n    const response = await createUser(userData);\n    dispatch(fetchUsers()); // Refetch users after adding\n  } catch (error) {\n    console.error(error);\n  }\n};\n\n// Update User\nexport const editUser = (id, userData) => async dispatch => {\n  try {\n    const response = await updateUser(id, userData);\n    dispatch(fetchUsers()); // Refetch users after updating\n  } catch (error) {\n    console.error(error);\n  }\n};\n\n// Delete User\nexport const removeUser = id => async dispatch => {\n  try {\n    await deleteUser(id);\n    dispatch(fetchUsers()); // Refetch users after deleting\n  } catch (error) {\n    console.error(error);\n  }\n};","map":{"version":3,"names":["fetchUsersRequest","fetchUsersSuccess","fetchUsersFailure","getUsers","createUser","updateUser","deleteUser","fetchUsers","page","dispatch","getState","currentPage","user","response","data","totalPages","total_pages","error","message","addUser","userData","console","editUser","id","removeUser"],"sources":["/home/raj/Documents/project/src/redux/actions/userActions.js"],"sourcesContent":["import { fetchUsersRequest, fetchUsersSuccess, fetchUsersFailure } from '../reducers/userReducer';\nimport { getUsers, createUser, updateUser, deleteUser } from '../../api/userApi';\n\n// Fetch Users\nexport const fetchUsers = (page = 1) => async (dispatch, getState) => {\n  const { currentPage } = getState().user;\n  if (currentPage !== page) { // Prevent fetching if the page hasn't changed\n    dispatch(fetchUsersRequest());\n    try {\n      const response = await getUsers(page);\n      dispatch(fetchUsersSuccess({\n        data: response.data.data,\n        totalPages: response.data.total_pages,\n      }));\n    } catch (error) {\n      dispatch(fetchUsersFailure(error.message));\n    }\n  }\n};\n\n\n// Create User\nexport const addUser = (userData) => async (dispatch) => {\n  try {\n    const response = await createUser(userData);\n    dispatch(fetchUsers()); // Refetch users after adding\n  } catch (error) {\n    console.error(error);\n  }\n};\n\n// Update User\nexport const editUser = (id, userData) => async (dispatch) => {\n  try {\n    const response = await updateUser(id, userData);\n    dispatch(fetchUsers()); // Refetch users after updating\n  } catch (error) {\n    console.error(error);\n  }\n};\n\n// Delete User\nexport const removeUser = (id) => async (dispatch) => {\n  try {\n    await deleteUser(id);\n    dispatch(fetchUsers()); // Refetch users after deleting\n  } catch (error) {\n    console.error(error);\n  }\n};\n"],"mappings":"AAAA,SAASA,iBAAiB,EAAEC,iBAAiB,EAAEC,iBAAiB,QAAQ,yBAAyB;AACjG,SAASC,QAAQ,EAAEC,UAAU,EAAEC,UAAU,EAAEC,UAAU,QAAQ,mBAAmB;;AAEhF;AACA,OAAO,MAAMC,UAAU,GAAGA,CAACC,IAAI,GAAG,CAAC,KAAK,OAAOC,QAAQ,EAAEC,QAAQ,KAAK;EACpE,MAAM;IAAEC;EAAY,CAAC,GAAGD,QAAQ,CAAC,CAAC,CAACE,IAAI;EACvC,IAAID,WAAW,KAAKH,IAAI,EAAE;IAAE;IAC1BC,QAAQ,CAACT,iBAAiB,CAAC,CAAC,CAAC;IAC7B,IAAI;MACF,MAAMa,QAAQ,GAAG,MAAMV,QAAQ,CAACK,IAAI,CAAC;MACrCC,QAAQ,CAACR,iBAAiB,CAAC;QACzBa,IAAI,EAAED,QAAQ,CAACC,IAAI,CAACA,IAAI;QACxBC,UAAU,EAAEF,QAAQ,CAACC,IAAI,CAACE;MAC5B,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdR,QAAQ,CAACP,iBAAiB,CAACe,KAAK,CAACC,OAAO,CAAC,CAAC;IAC5C;EACF;AACF,CAAC;;AAGD;AACA,OAAO,MAAMC,OAAO,GAAIC,QAAQ,IAAK,MAAOX,QAAQ,IAAK;EACvD,IAAI;IACF,MAAMI,QAAQ,GAAG,MAAMT,UAAU,CAACgB,QAAQ,CAAC;IAC3CX,QAAQ,CAACF,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;EAC1B,CAAC,CAAC,OAAOU,KAAK,EAAE;IACdI,OAAO,CAACJ,KAAK,CAACA,KAAK,CAAC;EACtB;AACF,CAAC;;AAED;AACA,OAAO,MAAMK,QAAQ,GAAGA,CAACC,EAAE,EAAEH,QAAQ,KAAK,MAAOX,QAAQ,IAAK;EAC5D,IAAI;IACF,MAAMI,QAAQ,GAAG,MAAMR,UAAU,CAACkB,EAAE,EAAEH,QAAQ,CAAC;IAC/CX,QAAQ,CAACF,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;EAC1B,CAAC,CAAC,OAAOU,KAAK,EAAE;IACdI,OAAO,CAACJ,KAAK,CAACA,KAAK,CAAC;EACtB;AACF,CAAC;;AAED;AACA,OAAO,MAAMO,UAAU,GAAID,EAAE,IAAK,MAAOd,QAAQ,IAAK;EACpD,IAAI;IACF,MAAMH,UAAU,CAACiB,EAAE,CAAC;IACpBd,QAAQ,CAACF,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;EAC1B,CAAC,CAAC,OAAOU,KAAK,EAAE;IACdI,OAAO,CAACJ,KAAK,CAACA,KAAK,CAAC;EACtB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}