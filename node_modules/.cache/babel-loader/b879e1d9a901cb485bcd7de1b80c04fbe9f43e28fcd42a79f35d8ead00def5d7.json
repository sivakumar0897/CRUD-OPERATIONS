{"ast":null,"code":"import { getUsers, createUser, updateUser, deleteUser } from '../../api/userApi';\n\n// Action Creators\nexport const fetchUsersRequest = () => {\n  console.log('Dispatching FETCH_USERS_REQUEST');\n  return {\n    type: 'FETCH_USERS_REQUEST'\n  };\n};\nexport const fetchUsersSuccess = payload => ({\n  type: 'FETCH_USERS_SUCCESS',\n  payload\n});\nexport const fetchUsersFailure = error => ({\n  type: 'FETCH_USERS_FAILURE',\n  payload: error\n});\n\n// Fetch Users\nexport const fetchUsers = (page = 1) => async (dispatch, getState) => {\n  const {\n    currentPage\n  } = getState().user;\n  if (currentPage !== page) {\n    // Prevent unnecessary API calls\n    dispatch(fetchUsersRequest());\n    try {\n      const response = await getUsers(page);\n      dispatch(fetchUsersSuccess({\n        data: response.data.data,\n        // Assuming API response has this structure\n        totalPages: response.data.total_pages,\n        page: response.data.page // Send the current page from API\n      }));\n    } catch (error) {\n      dispatch(fetchUsersFailure(error.message));\n    }\n  }\n};\n\n// Create User\nexport const addUser = userData => async dispatch => {\n  try {\n    await createUser(userData);\n    dispatch(fetchUsers()); // Refetch users after adding\n  } catch (error) {\n    console.error(error);\n  }\n};\n\n// Update User\nexport const editUser = (id, userData) => async dispatch => {\n  try {\n    await updateUser(id, userData);\n    dispatch(fetchUsers()); // Refetch users after updating\n  } catch (error) {\n    console.error(error);\n  }\n};\n\n// Delete User\nexport const removeUser = id => async dispatch => {\n  try {\n    await deleteUser(id);\n    dispatch(fetchUsers()); // Refetch users after deleting\n  } catch (error) {\n    console.error(error);\n  }\n};","map":{"version":3,"names":["getUsers","createUser","updateUser","deleteUser","fetchUsersRequest","console","log","type","fetchUsersSuccess","payload","fetchUsersFailure","error","fetchUsers","page","dispatch","getState","currentPage","user","response","data","totalPages","total_pages","message","addUser","userData","editUser","id","removeUser"],"sources":["/home/raj/Documents/project/src/redux/actions/userActions.js"],"sourcesContent":["import { getUsers, createUser, updateUser, deleteUser } from '../../api/userApi';\n\n// Action Creators\nexport const fetchUsersRequest = () => {\n  console.log('Dispatching FETCH_USERS_REQUEST');\n  return { type: 'FETCH_USERS_REQUEST' };\n};\n\nexport const fetchUsersSuccess = (payload) => ({ type: 'FETCH_USERS_SUCCESS', payload });\nexport const fetchUsersFailure = (error) => ({ type: 'FETCH_USERS_FAILURE', payload: error });\n\n// Fetch Users\nexport const fetchUsers = (page = 1) => async (dispatch, getState) => {\n  const { currentPage } = getState().user;\n  if (currentPage !== page) { // Prevent unnecessary API calls\n    dispatch(fetchUsersRequest());\n    try {\n      const response = await getUsers(page);\n      dispatch(fetchUsersSuccess({\n        data: response.data.data, // Assuming API response has this structure\n        totalPages: response.data.total_pages,\n        page: response.data.page, // Send the current page from API\n      }));\n    } catch (error) {\n      dispatch(fetchUsersFailure(error.message));\n    }\n  }\n};\n\n\n// Create User\nexport const addUser = (userData) => async (dispatch) => {\n  try {\n    await createUser(userData);\n    dispatch(fetchUsers()); // Refetch users after adding\n  } catch (error) {\n    console.error(error);\n  }\n};\n\n// Update User\nexport const editUser = (id, userData) => async (dispatch) => {\n  try {\n    await updateUser(id, userData);\n    dispatch(fetchUsers()); // Refetch users after updating\n  } catch (error) {\n    console.error(error);\n  }\n};\n\n// Delete User\nexport const removeUser = (id) => async (dispatch) => {\n  try {\n    await deleteUser(id);\n    dispatch(fetchUsers()); // Refetch users after deleting\n  } catch (error) {\n    console.error(error);\n  }\n};\n"],"mappings":"AAAA,SAASA,QAAQ,EAAEC,UAAU,EAAEC,UAAU,EAAEC,UAAU,QAAQ,mBAAmB;;AAEhF;AACA,OAAO,MAAMC,iBAAiB,GAAGA,CAAA,KAAM;EACrCC,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC;EAC9C,OAAO;IAAEC,IAAI,EAAE;EAAsB,CAAC;AACxC,CAAC;AAED,OAAO,MAAMC,iBAAiB,GAAIC,OAAO,KAAM;EAAEF,IAAI,EAAE,qBAAqB;EAAEE;AAAQ,CAAC,CAAC;AACxF,OAAO,MAAMC,iBAAiB,GAAIC,KAAK,KAAM;EAAEJ,IAAI,EAAE,qBAAqB;EAAEE,OAAO,EAAEE;AAAM,CAAC,CAAC;;AAE7F;AACA,OAAO,MAAMC,UAAU,GAAGA,CAACC,IAAI,GAAG,CAAC,KAAK,OAAOC,QAAQ,EAAEC,QAAQ,KAAK;EACpE,MAAM;IAAEC;EAAY,CAAC,GAAGD,QAAQ,CAAC,CAAC,CAACE,IAAI;EACvC,IAAID,WAAW,KAAKH,IAAI,EAAE;IAAE;IAC1BC,QAAQ,CAACV,iBAAiB,CAAC,CAAC,CAAC;IAC7B,IAAI;MACF,MAAMc,QAAQ,GAAG,MAAMlB,QAAQ,CAACa,IAAI,CAAC;MACrCC,QAAQ,CAACN,iBAAiB,CAAC;QACzBW,IAAI,EAAED,QAAQ,CAACC,IAAI,CAACA,IAAI;QAAE;QAC1BC,UAAU,EAAEF,QAAQ,CAACC,IAAI,CAACE,WAAW;QACrCR,IAAI,EAAEK,QAAQ,CAACC,IAAI,CAACN,IAAI,CAAE;MAC5B,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,OAAOF,KAAK,EAAE;MACdG,QAAQ,CAACJ,iBAAiB,CAACC,KAAK,CAACW,OAAO,CAAC,CAAC;IAC5C;EACF;AACF,CAAC;;AAGD;AACA,OAAO,MAAMC,OAAO,GAAIC,QAAQ,IAAK,MAAOV,QAAQ,IAAK;EACvD,IAAI;IACF,MAAMb,UAAU,CAACuB,QAAQ,CAAC;IAC1BV,QAAQ,CAACF,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;EAC1B,CAAC,CAAC,OAAOD,KAAK,EAAE;IACdN,OAAO,CAACM,KAAK,CAACA,KAAK,CAAC;EACtB;AACF,CAAC;;AAED;AACA,OAAO,MAAMc,QAAQ,GAAGA,CAACC,EAAE,EAAEF,QAAQ,KAAK,MAAOV,QAAQ,IAAK;EAC5D,IAAI;IACF,MAAMZ,UAAU,CAACwB,EAAE,EAAEF,QAAQ,CAAC;IAC9BV,QAAQ,CAACF,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;EAC1B,CAAC,CAAC,OAAOD,KAAK,EAAE;IACdN,OAAO,CAACM,KAAK,CAACA,KAAK,CAAC;EACtB;AACF,CAAC;;AAED;AACA,OAAO,MAAMgB,UAAU,GAAID,EAAE,IAAK,MAAOZ,QAAQ,IAAK;EACpD,IAAI;IACF,MAAMX,UAAU,CAACuB,EAAE,CAAC;IACpBZ,QAAQ,CAACF,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;EAC1B,CAAC,CAAC,OAAOD,KAAK,EAAE;IACdN,OAAO,CAACM,KAAK,CAACA,KAAK,CAAC;EACtB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}